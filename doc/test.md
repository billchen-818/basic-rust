# 测试

## 单元测试

一个单元测试就是一个函数，用于验证代码库中某个功能函数的功能。单元测试在模块中编写。

通常放在模块tests中，并在其上放置`#[cfg(test)]`注释标记来用于隔离测试代码。

`#[cfg(...)]`属性中的cfg通常用于条件编译，但不限于测试代码。在测试时，标记为test表明只有在运行`cargo test`命令时，测试代码才会被编译，并包含到已编译的二进制文件中，否则其将会被忽略。

### 测试中的属性

- should_panic属性：让测试失败，希望测试框架断言失败
- ignore属性：忽略某些测试功能

## 集成测试

集成测试在目录tests/目录下进行。

## 文档

文档分为两个层级：

- 元素级：注释适用于模块中的元素，例如结构体、枚举声明、函数及特征常量等。应出现在元素上方。对于单行注释，以`///`开头，多行注释，则以`/*`开头，以`*/`结尾。
- 模块级：出现在跟层级的注释，例如`main.rs`、`lib.rs`，以及其它任意模块，可使用`//!`表示单行注释的开始，使用`/*!`表示多行注释的开始，并将`*/`作为结尾标记。

`cargo doc`命令用来生成文档。

## 基准测试

又叫性能测试，找出代码中的性能瓶颈，优化性能。